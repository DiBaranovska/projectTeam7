"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[716],{8028:function(e,r,n){n.d(r,{a5:function(){return o},bS:function(){return u},pX:function(){return l},wR:function(){return s}});var t=n(5861),a=n(4687),c=n.n(a),i=n(1243);i.Z.defaults.baseURL="https://projectteam7-backend.onrender.com";var s=function(){var e=(0,t.Z)(c().mark((function e(r){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get("recipes/glass",{headers:{Authorization:"Bearer ".concat(r)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error fetching glasses:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),o=function(){var e=(0,t.Z)(c().mark((function e(r){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get("recipes/ingredients",{headers:{Authorization:"Bearer ".concat(r)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error fetching ingredients:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),u=function(){var e=(0,t.Z)(c().mark((function e(r){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get("recipes/category",{headers:{Authorization:"Bearer ".concat(r)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error fetching categories:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),l=function(){var e=(0,t.Z)(c().mark((function e(r,n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get("/search",{params:n,headers:{Authorization:"Bearer ".concat(r)}});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error fetching data:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r,n){return e.apply(this,arguments)}}()},6788:function(e,r,n){n.d(r,{Z:function(){return c}});var t="mainPageTitle_title__xtPBV",a=n(184),c=function(e){var r=e.title;return(0,a.jsx)("h1",{className:t,children:r})}},3289:function(e,r,n){n.d(r,{Z:function(){return l}});var t=n(6048),a=n.n(t),c="paginator_pagination__CCXNm",i="paginator_link__UrJ9e",s="paginator_link_acive__-31uX",o="paginator_disabled__ux7Ye",u=n(184),l=function(e){var r=e.handlePageClick,n=e.itemsPerPage,t=e.pageCount;return(0,u.jsx)(a(),{breakLabel:"...",nextLabel:">",onPageChange:r,pageRangeDisplayed:n,marginPagesDisplayed:n,pageCount:t,previousLabel:"<",renderOnZeroPageCount:null,containerClassName:c,pageLinkClassName:i,previousLinkClassName:i,nextLinkClassName:i,activeLinkClassName:s,disabledLinkClassName:o})}},716:function(e,r,n){n.r(r),n.d(r,{default:function(){return P}});var t=n(1413),a=n(9439),c=n(2791),i=n(9434),s=n(7689),o=n(5861),u=n(4687),l=n.n(u),f=n(4942),h=n(3025),d=n(184);var g=function(){var e=(0,i.v9)((function(e){return e.filter})),r=(0,i.v9)((function(e){return e.cocktail.categoriesList})),n=(0,i.v9)((function(e){return e.cocktail.ingredientsList})),a=(0,i.I0)(),c=(0,s.s0)(),o=function(r){var n=r.target,i=n.name,s=n.value.trim();if(a((0,h.H1)((0,t.Z)((0,t.Z)({},e),{},(0,f.Z)({},i,s)))),"category"===i){var o="/drinks/".concat(s);c(o)}};return(0,d.jsxs)("form",{className:"searchForm",children:[(0,d.jsx)("input",{className:"searchInput",type:"text",placeholder:"Enter the text",name:"name",value:e.name,onChange:o}),(0,d.jsxs)("select",{className:"searchCategory",name:"category",value:e.category,onChange:o,children:[(0,d.jsx)("option",{value:"",children:"All categories"}),r.map((function(e){return(0,d.jsx)("option",{value:e,children:e},e)}))]}),(0,d.jsxs)("select",{className:"searchIngredient",name:"ingredient",value:e.ingredient,onChange:o,children:[(0,d.jsx)("option",{value:"",children:"Ingredients"}),n.map((function(e){return(0,d.jsx)("option",{value:e,children:e},e)}))]})]})},p="drinksResults_container__FX2iG",v="drinksResults_container__item__o4yTh",m="drinksResults_cocktail__Nt+Wv",_="drinksResults_cocktail__image__tM26f",k="drinksResults_cocktail__title__+ELtZ",x="drinksResults_cocktail__link__j5U5U";var Z=function(e){var r=e.results.cocktails||[];return(0,d.jsx)("div",{children:(0,d.jsx)("ul",{className:p,children:r.map((function(e){return(0,d.jsx)("li",{className:v,children:(0,d.jsxs)("ul",{className:m,children:[(0,d.jsx)("li",{children:(0,d.jsx)("img",{className:_,src:e.drinkThumb,alt:e._id,width:"400",height:"400"})}),(0,d.jsx)("li",{className:k,children:e.drink}),(0,d.jsx)("li",{className:x,children:(0,d.jsx)("a",{href:"./recipe",children:"Ingredients"})})]})},e._id)}))})})},j=n(3289),C="drinksSearch_searchResults__FXFYt",y=n(8028),N=n(5496);var b=function(e){var r=e.formData,n=(0,c.useState)([]),s=(0,a.Z)(n,2),u=s[0],f=s[1],h=(0,i.v9)((function(e){return e.user.token})),p=(0,i.v9)((function(e){return e.cocktail.categoriesList})),v=(0,i.v9)((function(e){return e.cocktail.ingredientsList})),m=(0,i.v9)((function(e){return e.filter})),_=(0,i.I0)(),k=(0,c.useCallback)(function(){var e=(0,o.Z)(l().mark((function e(r){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,y.pX)(h,r);case 3:n=e.sent,f(n),_((0,N.iM)(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching data:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),[_,h]);(0,c.useEffect)((function(){k((0,t.Z)((0,t.Z)((0,t.Z)({},m),r),{},{page:1}))}),[m,k,r]);var x=(0,i.v9)((function(e){return e.cocktail.results.totalCocktails})),b=(0,i.v9)((function(e){return e.cocktail.results.perPage})),w=Math.ceil(x/b);return(0,d.jsxs)("div",{children:[(0,d.jsx)(g,{ingredientsList:v,categoriesList:p,onSearch:k,formData:r}),(0,d.jsx)(Z,{results:u}),w?(0,d.jsx)(j.Z,{handlePageClick:function(e){var r=e.selected+1,n=(0,t.Z)((0,t.Z)({},m),{},{page:r}),a={};n.ingredient&&(a.ingredient=n.ingredient),n.category&&(a.category=n.category),n.page&&(a.page=n.page),n.name&&(a.name=n.name),k(a)},pageCount:w}):(0,d.jsx)("div",{className:C,children:"No search results"})]})},w=n(6788),L="DrinksPage_container__BObMF",E="DrinksPage_wrap_main__6netV",P=function(){var e=(0,i.v9)((function(e){return e.user.token})),r=(0,i.I0)(),n=(0,s.UO)().categoryName,o=(0,s.s0)(),u=(0,i.v9)((function(e){return e.filter})),l=(0,c.useState)({}),f=(0,a.Z)(l,1)[0],g=(0,c.useCallback)((function(e){r((0,h.H1)(e)),e.category?o("/drinks/".concat(e.category)):o("/drinks")}),[r,o]);return(0,c.useEffect)((function(){n&&u.category!==n&&r((0,h.H1)((0,t.Z)((0,t.Z)({},u),{},{category:n})))}),[n,u,r]),(0,c.useEffect)((function(){n!==u.category&&(r((0,h.H1)((0,t.Z)((0,t.Z)({},u),{},{category:n}))),g({category:n}))}),[n,u,g,r]),(0,c.useEffect)((function(){e&&((0,y.a5)(e).then((function(e){e.sort(),r((0,N.Y1)(e))})).catch((function(e){return console.error("Error fetching ingredients:",e)})),(0,y.bS)(e).then((function(e){e.sort(),r((0,N.Zi)(e))})).catch((function(e){return console.error("Error fetching categories:",e)})))}),[r,e]),(0,d.jsx)("div",{className:L,children:(0,d.jsxs)("div",{className:E,children:[(0,d.jsx)(w.Z,{title:"Drinks"}),(0,d.jsx)(b,{filterCriteria:u,onFilterChange:g,formData:f})]})})}}}]);
//# sourceMappingURL=716.4e724ec3.chunk.js.map