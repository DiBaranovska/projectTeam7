"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[461],{6788:function(e,r,t){t.d(r,{Z:function(){return i}});var n="mainPageTitle_title__xtPBV",a=t(184),i=function(e){var r=e.title;return(0,a.jsx)("h1",{className:n,children:r})}},3289:function(e,r,t){t.d(r,{Z:function(){return l}});var n=t(6048),a=t.n(n),i="paginator_pagination__CCXNm",c="paginator_link__UrJ9e",s="paginator_link_acive__-31uX",o="paginator_disabled__ux7Ye",u=t(184),l=function(e){var r=e.handlePageClick,t=e.itemsPerPage,n=e.pageCount;return(0,u.jsx)(a(),{breakLabel:"...",nextLabel:">",onPageChange:r,pageRangeDisplayed:t,marginPagesDisplayed:t,pageCount:n,previousLabel:"<",renderOnZeroPageCount:null,containerClassName:i,pageLinkClassName:c,previousLinkClassName:c,nextLinkClassName:c,activeLinkClassName:s,disabledLinkClassName:o})}},3461:function(e,r,t){t.r(r),t.d(r,{default:function(){return I}});var n=t(1413),a=t(9439),i=t(2791),c=t(9434),s=t(7689),o=t(5861),u=t(4687),l=t.n(u),f=t(4942),d=t(3025),h=t(184);var g=function(){var e=(0,c.v9)((function(e){return e.filter})),r=(0,c.v9)((function(e){return e.cocktail.categoriesList})),t=(0,c.v9)((function(e){return e.cocktail.ingredientsList})),a=(0,c.I0)(),i=(0,s.s0)(),o=function(r){var t=r.target,c=t.name,s=t.value.trim();if(a((0,d.H1)((0,n.Z)((0,n.Z)({},e),{},(0,f.Z)({},c,s)))),"category"===c){var o="/drinks/".concat(s);i(o)}};return(0,h.jsxs)("form",{className:"searchForm",children:[(0,h.jsx)("input",{className:"searchInput",type:"text",placeholder:"Enter the text",name:"name",value:e.name,onChange:o}),(0,h.jsxs)("select",{className:"searchCategory",name:"category",value:e.category,onChange:o,children:[(0,h.jsx)("option",{value:"",children:"All categories"}),r.map((function(e){return(0,h.jsx)("option",{value:e,children:e},e)}))]}),(0,h.jsxs)("select",{className:"searchIngredient",name:"ingredient",value:e.ingredient,onChange:o,children:[(0,h.jsx)("option",{value:"",children:"Ingredients"}),t.map((function(e){return(0,h.jsx)("option",{value:e,children:e},e)}))]})]})},p="drinksResults_container__FX2iG",v="drinksResults_container__item__o4yTh",m="drinksResults_cocktail__Nt+Wv",_="drinksResults_cocktail__image__tM26f",k="drinksResults_cocktail__title__+ELtZ",x="drinksResults_cocktail__link__j5U5U";var j=function(e){var r=e.results.cocktails||[];return(0,h.jsx)("div",{children:(0,h.jsx)("ul",{className:p,children:r.map((function(e){return(0,h.jsx)("li",{className:v,children:(0,h.jsxs)("ul",{className:m,children:[(0,h.jsx)("li",{children:(0,h.jsx)("img",{className:_,src:e.drinkThumb,alt:e._id,width:"400",height:"400"})}),(0,h.jsx)("li",{className:k,children:e.drink}),(0,h.jsx)("li",{className:x,children:(0,h.jsx)("a",{href:"./recipe",children:"Ingredients"})})]})},e._id)}))})})},Z=t(3289),C="drinksSearch_searchResults__FXFYt",y=t(1243);y.Z.defaults.baseURL="https://projectteam7-backend.onrender.com";var N=function(){var e=(0,o.Z)(l().mark((function e(r){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.Z.get("recipes/ingredients",{headers:{Authorization:"Bearer ".concat(r)}});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error fetching ingredients:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),b=function(){var e=(0,o.Z)(l().mark((function e(r){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.Z.get("recipes/category",{headers:{Authorization:"Bearer ".concat(r)}});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error fetching categories:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),w=function(){var e=(0,o.Z)(l().mark((function e(r,t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.Z.get("/search",{params:t,headers:{Authorization:"Bearer ".concat(r)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error fetching data:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r,t){return e.apply(this,arguments)}}(),L=t(5496);var E=function(e){var r=e.formData,t=(0,i.useState)([]),s=(0,a.Z)(t,2),u=s[0],f=s[1],d=(0,c.v9)((function(e){return e.user.token})),p=(0,c.v9)((function(e){return e.cocktail.categoriesList})),v=(0,c.v9)((function(e){return e.cocktail.ingredientsList})),m=(0,c.v9)((function(e){return e.filter})),_=(0,c.I0)(),k=(0,i.useCallback)(function(){var e=(0,o.Z)(l().mark((function e(r){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(d,r);case 3:t=e.sent,f(t),_((0,L.iM)(t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching data:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),[_,d]);(0,i.useEffect)((function(){k((0,n.Z)((0,n.Z)((0,n.Z)({},m),r),{},{page:1}))}),[m,k,r]);var x=(0,c.v9)((function(e){return e.cocktail.results.totalCocktails})),y=(0,c.v9)((function(e){return e.cocktail.results.perPage})),N=Math.ceil(x/y);return(0,h.jsxs)("div",{children:[(0,h.jsx)(g,{ingredientsList:v,categoriesList:p,onSearch:k,formData:r}),(0,h.jsx)(j,{results:u}),N?(0,h.jsx)(Z.Z,{handlePageClick:function(e){var r=e.selected+1,t=(0,n.Z)((0,n.Z)({},m),{},{page:r}),a={};t.ingredient&&(a.ingredient=t.ingredient),t.category&&(a.category=t.category),t.page&&(a.page=t.page),t.name&&(a.name=t.name),k(a)},pageCount:N}):(0,h.jsx)("div",{className:C,children:"No search results"})]})},P=t(6788),R="DrinksPage_container__BObMF",D="DrinksPage_wrap_main__6netV",I=function(){var e=(0,c.v9)((function(e){return e.user.token})),r=(0,c.I0)(),t=(0,s.UO)().categoryName,o=(0,s.s0)(),u=(0,c.v9)((function(e){return e.filter})),l=(0,i.useState)({}),f=(0,a.Z)(l,1)[0],g=(0,i.useCallback)((function(e){r((0,d.H1)(e)),e.category?o("/drinks/".concat(e.category)):o("/drinks")}),[r,o]);return(0,i.useEffect)((function(){t&&u.category!==t&&r((0,d.H1)((0,n.Z)((0,n.Z)({},u),{},{category:t})))}),[t,u,r]),(0,i.useEffect)((function(){t!==u.category&&(r((0,d.H1)((0,n.Z)((0,n.Z)({},u),{},{category:t}))),g({category:t}))}),[t,u,g,r]),(0,i.useEffect)((function(){e&&(N(e).then((function(e){e.sort(),r((0,L.Y1)(e))})).catch((function(e){return console.error("Error fetching ingredients:",e)})),b(e).then((function(e){e.sort(),r((0,L.Zi)(e))})).catch((function(e){return console.error("Error fetching categories:",e)})))}),[r,e]),(0,h.jsx)("div",{className:R,children:(0,h.jsxs)("div",{className:D,children:[(0,h.jsx)(P.Z,{title:"Drinks"}),(0,h.jsx)(E,{filterCriteria:u,onFilterChange:g,formData:f})]})})}}}]);
//# sourceMappingURL=461.038d0f5e.chunk.js.map