{"version":3,"file":"static/js/469.c1764ce6.chunk.js","mappings":"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","sources":["webpack://projectTeam7/./src/components/mainPageTitle/mainPageTitle.module.scss?7434","components/mainPageTitle/mainPageTitle.jsx","webpack://projectTeam7/./src/components/paginator/paginator.module.scss?8177","components/paginator/paginator.jsx","components/drinksSearch/drinksForm.jsx","webpack://projectTeam7/./src/components/drinksResults/drinksResults.module.scss?da0c","components/drinksResults/drinksResults.jsx","webpack://projectTeam7/./src/pages/DrinksPage/DrinksPage.module.scss?f993","pages/DrinksPage/DrinksPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"noScroll\":\"mainPageTitle_noScroll__OFPzi\",\"conteiner\":\"mainPageTitle_conteiner__NuQ8f\",\"title\":\"mainPageTitle_title__xtPBV\"};","import styles from './mainPageTitle.module.scss';\n\nconst MainPageTitle = ({ title }) => {\n  return <h1 className={styles.title}>{title}</h1>;\n};\n\nexport default MainPageTitle;\n","// extracted by mini-css-extract-plugin\nexport default {\"noScroll\":\"paginator_noScroll__mfgmh\",\"conteiner\":\"paginator_conteiner__Jesiv\",\"pagination\":\"paginator_pagination__CCXNm\",\"link\":\"paginator_link__UrJ9e\",\"link_acive\":\"paginator_link_acive__-31uX\",\"disabled\":\"paginator_disabled__ux7Ye\"};","import ReactPaginate from 'react-paginate';\nimport styles from './paginator.module.scss';\n\nconst Paginator = ({ handlePageClick, itemsPerPage, pageCount }) => {\n  return (\n    <ReactPaginate\n      breakLabel=\"...\"\n      nextLabel=\">\"\n      onPageChange={handlePageClick}\n      pageRangeDisplayed={itemsPerPage}\n      marginPagesDisplayed={itemsPerPage}\n      pageCount={pageCount}\n      previousLabel=\"<\"\n      renderOnZeroPageCount={null}\n      containerClassName={styles.pagination}\n      pageLinkClassName={styles.link}\n      previousLinkClassName={styles.link}\n      nextLinkClassName={styles.link}\n      activeLinkClassName={styles.link_acive}\n      disabledLinkClassName={styles.disabled}\n    />\n  );\n};\n\nexport default Paginator;\n","import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n  setFilterCriteria,\n  clearFilterCriteria,\n} from '../../redux/search/filterSlice.js';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport {\n  setCategoriesList,\n  setIngredientsList,\n} from '../../redux/search/cocktailSlice';\nimport {\n  fetchCategoriesList,\n  fetchIngredientsList,\n} from '..//../api/searchApi';\n\nimport './drinksForm.css';\n\nfunction DrinksForm({ ingredientsList, categoriesList }) {\n  const token = useSelector(state => state.user.token);\n  const dispatch = useDispatch();\n  const filterCriteria = useSelector(state => state.filter);\n  const location = useLocation();\n  const navigate = useNavigate();\n  const searchParams = new URLSearchParams(location.search);\n  const selectedCategory = searchParams.get('category') || '';\n\n  useEffect(() => {\n    if (!location.pathname.startsWith('/search')) {\n      dispatch(clearFilterCriteria());\n    }\n  }, [location.pathname, dispatch]);\n\n  const handleChange = e => {\n    const { name, value } = e.target;\n    const trimmedValue = value.trim();\n\n    const categoryValue = encodeURIComponent(trimmedValue);\n    const updatedFilterCriteria = {\n      ...filterCriteria,\n      [name]: categoryValue,\n      page: 1,\n    };\n\n    dispatch(setFilterCriteria(updatedFilterCriteria));\n\n    const url = `/search?category=${updatedFilterCriteria.category}&ingredient=${updatedFilterCriteria.ingredient}&name=${updatedFilterCriteria.name}`;\n    navigate(url, { replace: true });\n  };\n\n  useEffect(() => {\n    if (token) {\n      fetchIngredientsList(token)\n        .then(ingredients => {\n          ingredients.sort();\n          dispatch(setIngredientsList(ingredients));\n        })\n        .catch(error => console.error('Error fetching ingredients:', error));\n\n      fetchCategoriesList(token)\n        .then(categories => {\n          categories.sort();\n          dispatch(setCategoriesList(categories));\n        })\n        .catch(error => console.error('Error fetching categories:', error));\n    }\n  }, [dispatch, token]);\n\n  return (\n    <form className=\"searchForm\">\n      <input\n        className=\"searchInput\"\n        type=\"text\"\n        placeholder=\"Enter the text\"\n        name=\"name\"\n        value={filterCriteria.name}\n        onChange={handleChange}\n      />\n      <select\n        className=\"searchCategory\"\n        name=\"category\"\n        value={decodeURIComponent(filterCriteria.category || selectedCategory)}\n        onChange={handleChange}\n      >\n        <option value=\"\">All categories</option>\n        {categoriesList.map(category => (\n          <option key={category} value={category}>\n            {category}\n          </option>\n        ))}\n      </select>\n      <select\n        className=\"searchIngredient\"\n        name=\"ingredient\"\n        value={filterCriteria.ingredient}\n        onChange={handleChange}\n      >\n        <option value=\"\">Ingredients</option>\n        {ingredientsList.map(ingredient => (\n          <option key={ingredient} value={ingredient}>\n            {ingredient}\n          </option>\n        ))}\n      </select>\n    </form>\n  );\n}\n\nexport default DrinksForm;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"drinksResults_container__FX2iG\",\"container__item\":\"drinksResults_container__item__o4yTh\",\"cocktail\":\"drinksResults_cocktail__Nt+Wv\",\"cocktail__image\":\"drinksResults_cocktail__image__tM26f\",\"cocktail__title\":\"drinksResults_cocktail__title__+ELtZ\",\"cocktail__link\":\"drinksResults_cocktail__link__j5U5U\"};","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport styles from './drinksResults.module.scss';\n\nfunction DrinksResults({ results }) {\n  const cocktails = results.cocktails || [];\n  return (\n    <div>\n      <ul className={styles.container}>\n        {cocktails.map(cocktail => (\n          <li key={cocktail._id} className={styles.container__item}>\n            <ul className={styles.cocktail}>\n              <li>\n                <img\n                  className={styles.cocktail__image}\n                  src={cocktail.drinkThumb}\n                  alt={cocktail._id}\n                  width=\"400\"\n                  height=\"400\"\n                ></img>\n              </li>\n              <li className={styles.cocktail__title}>{cocktail.drink}</li>\n              <li className={styles.cocktail__link}>\n                <Link to={`/recipe/${cocktail._id}`}>Ingredients</Link>\n              </li>\n            </ul>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default DrinksResults;\n","// extracted by mini-css-extract-plugin\nexport default {\"noScroll\":\"DrinksPage_noScroll__vW4eD\",\"conteiner\":\"DrinksPage_conteiner__vpNSN\",\"container\":\"DrinksPage_container__BObMF\",\"wrap_main\":\"DrinksPage_wrap_main__6netV\"};","import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n  fetchFilteredCocktails,\n  fetchAllCocktails,\n} from '../../redux/search/cocktailSlice';\nimport { setFilterCriteria } from '../../redux/search/filterSlice.js';\nimport { useLocation } from 'react-router-dom';\nimport DrinksForm from '../../components/drinksSearch/drinksForm';\nimport DrinksResults from '../../components/drinksResults/drinksResults';\nimport Paginator from '../../components/paginator/paginator';\nimport MainPageTitle from '../../components/mainPageTitle/mainPageTitle';\nimport styles from './DrinksPage.module.scss';\nimport Skeleton from 'components/skeleton/skeleton';\n\nfunction DrinksPage() {\n  const token = useSelector(state => state.user.token);\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const { isLoading } = useSelector(state => state.cocktail.status);\n\n  const selectedName = searchParams.get('name') || '';\n  const selectedCategory = searchParams.get('category') || '';\n  const selectedIngredient = searchParams.get('ingredient') || '';\n\n  const searchResults = useSelector(state => state.cocktail.results);\n  const totalCocktails = useSelector(\n    state => state.cocktail.results.totalCocktails\n  );\n  const cocktailsPerPage = useSelector(state => state.cocktail.results.perPage);\n  const totalPages = Math.ceil(totalCocktails / cocktailsPerPage);\n  const filterCriteria = useSelector(state => state.filter);\n  const currentPage = useSelector(state => state.filter.page);\n\n  const categoriesList = useSelector(state => state.cocktail.categoriesList);\n  const ingredientsList = useSelector(state => state.cocktail.ingredientsList);\n\n  useEffect(() => {\n    // Determine if any filters are selected\n    if (selectedName || selectedCategory || selectedIngredient) {\n      const filters = {\n        name: selectedName,\n        category: selectedCategory,\n        ingredient: selectedIngredient,\n        page: currentPage,\n      };\n      dispatch(fetchFilteredCocktails({ filters, token }));\n    } else {\n      dispatch(fetchAllCocktails(token));\n    }\n  }, [\n    selectedName,\n    selectedCategory,\n    selectedIngredient,\n    dispatch,\n    token,\n    currentPage,\n  ]);\n\n  const handlePageClick = e => {\n    const newPage = e.selected + 1;\n\n    const updatedFilterCriteria = {\n      ...filterCriteria,\n      page: newPage,\n    };\n    dispatch(setFilterCriteria(updatedFilterCriteria));\n\n    dispatch(fetchFilteredCocktails({ filters: updatedFilterCriteria, token }));\n  };\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.wrap_main}>\n        <MainPageTitle title=\"Drinks\"></MainPageTitle>\n        <DrinksForm\n          ingredientsList={ingredientsList}\n          categoriesList={categoriesList}\n        />\n        {isLoading ? (\n          <Skeleton></Skeleton>\n        ) : (\n          <>\n            <DrinksResults results={searchResults} />\n            {totalPages ? (\n              <Paginator\n                handlePageClick={handlePageClick}\n                pageCount={totalPages}\n              />\n            ) : (\n              <div className={styles.searchResults}>No search results</div>\n            )}\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default DrinksPage;\n"],"names":["title","className","styles","handlePageClick","itemsPerPage","pageCount","breakLabel","nextLabel","onPageChange","pageRangeDisplayed","marginPagesDisplayed","previousLabel","renderOnZeroPageCount","containerClassName","pageLinkClassName","previousLinkClassName","nextLinkClassName","activeLinkClassName","disabledLinkClassName","ingredientsList","categoriesList","token","useSelector","state","user","dispatch","useDispatch","filterCriteria","filter","location","useLocation","navigate","useNavigate","selectedCategory","URLSearchParams","search","get","useEffect","pathname","startsWith","clearFilterCriteria","handleChange","e","target","name","trimmedValue","value","trim","categoryValue","encodeURIComponent","updatedFilterCriteria","setFilterCriteria","url","category","ingredient","replace","fetchIngredientsList","then","ingredients","sort","setIngredientsList","catch","error","console","fetchCategoriesList","categories","setCategoriesList","type","placeholder","onChange","decodeURIComponent","map","cocktails","results","cocktail","src","drinkThumb","alt","_id","width","height","drink","to","searchParams","isLoading","status","selectedName","selectedIngredient","searchResults","totalCocktails","cocktailsPerPage","perPage","totalPages","Math","ceil","currentPage","page","filters","fetchFilteredCocktails","fetchAllCocktails","newPage","selected"],"sourceRoot":""}