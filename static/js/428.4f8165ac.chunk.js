"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[428],{5235:function(e,r,n){n.r(r),n.d(r,{default:function(){return K}});var t=n(5861),i=n(9439),a=n(4687),c=n.n(a),s=n(2791),o=n(9434),p=n(1243);p.Z.defaults.baseURL="https://projectteam7-backend.onrender.com";var u=function(){var e=(0,t.Z)(c().mark((function e(r,n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.Z.get("recipes/".concat(r),{headers:{Authorization:"Bearer ".concat(n)}});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error("An error occurred:",e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r,n){return e.apply(this,arguments)}}(),d=function(){var e=(0,t.Z)(c().mark((function e(r,n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://projectteam7-backend.onrender.com/favorite",e.next=3,fetch("https://projectteam7-backend.onrender.com/favorite",{method:"POST",headers:{accept:"application/json",Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify({id:r})});case 3:e.sent.ok?console.log("Recipe added to favorites"):console.error("Failed to add recipe to favorites");case 5:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),l=function(){var e=(0,t.Z)(c().mark((function e(r,n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://projectteam7-backend.onrender.com/favorite/".concat(r),e.next=3,fetch(t,{method:"DELETE",headers:{Authorization:"Bearer ".concat(n)}});case 3:e.sent.ok?console.log("Recipe removed from favorites"):console.error("Failed to remove recipe from favorites");case 5:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),_=function(){var e=(0,t.Z)(c().mark((function e(r,n){var t,i,a,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://projectteam7-backend.onrender.com/favorite?page=1",e.next=3,fetch("https://projectteam7-backend.onrender.com/favorite?page=1",{method:"GET",headers:{Authorization:"Bearer ".concat(n)}});case 3:if(!(t=e.sent).ok){e.next=13;break}return e.next=7,t.json();case 7:return i=e.sent,a=i.recipes,s=a.some((function(e){return e._id===r})),e.abrupt("return",s);case 13:throw console.error("Failed to check if recipe is favorite"),new Error("Failed to check if recipe is favorite");case 15:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),f="RecipePage_conteiner__Vl14l",h="RecipePage_recipe__conteiner__hYPxr",m="recipeInngredientsList_ingredients__qqVfR",g="recipeInngredientsList_ingredients__title__TKn3w",v="recipeInngredientsList_ingredients__list__n0ct7",x="recipeInngredientsList_ingredients__card__I1pSf",k="recipeInngredientsList_ingredients__card__background__JiQJc",b="recipeInngredientsList_ingredients__card__img__tLTMZ",j="recipeInngredientsList_ingredients__card__description__5lH5Y",N="recipeInngredientsList_ingredients__card__title__3uV7Z",w="recipeInngredientsList_ingredients__card__measure__Q0UN2",P=n(184),T=function(e){var r=e.ingredients;return(0,P.jsxs)("div",{className:m,children:[(0,P.jsx)("h2",{className:g,children:"Ingredients"}),(0,P.jsx)("ul",{className:v,children:r.map((function(e,r){return(0,P.jsxs)("li",{className:x,children:[(0,P.jsx)("div",{className:k,children:e.ingredientThumb&&(0,P.jsx)("img",{src:e.ingredientThumb,alt:e.title,className:b})}),(0,P.jsxs)("div",{className:j,children:[(0,P.jsx)("p",{className:N,children:e.title}),e.measure&&(0,P.jsx)("p",{className:w,children:e.measure})]})]},r)}))})]})},y="recipePreparation_preparation__ejNBK",Z="recipePreparation_preparation__title__k7PDp",A="recipePreparation_preparation__container__vbwqW",I="recipePreparation_preparation__description__HsEFR",L="recipePreparation_preparation__imageContainer__pW-bi",R="recipePreparation_preparation__img__Yu-Lq",H=n.p+"static/media/recipePreparation.40381256e2b33149bbd3.jpg",E=function(e){var r=e.instructions;return(0,P.jsxs)("div",{className:y,children:[(0,P.jsx)("h2",{className:Z,children:"Recipe Preparation"}),(0,P.jsxs)("div",{className:A,children:[(0,P.jsx)("p",{className:I,children:r}),(0,P.jsx)("div",{className:L,children:(0,P.jsx)("img",{src:H,alt:"Recipe Preparation",className:R})})]})]})},F="recipePageHero_field__GVC5K",C="recipePageHero_field__glass__AMbFk",S="recipePageHero_field__category__QHRX2",B="recipePageHero_field__description__+0Wbp",q="recipePageHero_field__button__Ftv3-",z="recipePageHero_field__button_text__pwBve",D="recipePageHero_field__imageContainer__FN9Yw",V="recipePageHero_field__img__RpPxq",Y=n.p+"static/media/recipeCocteile.6b53d13bfa3bde5a7824.jpg",J=function(e){var r=e.glass,n=e.drinkAlternate,a=e.category,p=e.drinkThumb,u=e.recipeId,f=(0,s.useState)(!1),h=(0,i.Z)(f,2),m=h[0],g=h[1],v=(0,o.v9)((function(e){return e.user.token}));(0,s.useEffect)((function(){var e=function(){var e=(0,t.Z)(c().mark((function e(){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(u,v);case 3:r=e.sent,g(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Failed to fetch favorite status:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[u,v]);var x=function(){var e=(0,t.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,m){e.next=7;break}return e.next=4,d(u,v);case 4:g(!0),e.next=10;break;case 7:return e.next=9,l(u,v);case 9:g(!1);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Failed to toggle favorite:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return(0,P.jsxs)("div",{className:F,children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:C,children:r}),(0,P.jsx)("h1",{className:S,children:a}),(0,P.jsx)("p",{className:B,children:n}),(0,P.jsx)("button",{className:q,onClick:x,children:(0,P.jsx)("span",{className:z,children:m?"Remove from favorite":"Add to favorite recipe"})})]}),(0,P.jsx)("div",{className:D,children:p?(0,P.jsx)("img",{src:p,alt:"Drink Thumbnail",className:V}):(0,P.jsx)("img",{src:Y,alt:"Drink Thumbnail",className:V})})]})};var K=function(){var e=(0,s.useState)(""),r=(0,i.Z)(e,2),n=r[0],a=r[1],p=(0,s.useState)({category:"",drinkAlternate:"",glass:"",drinkThumb:"",ingredients:[],instructions:""}),d=(0,i.Z)(p,2),l=d[0],_=d[1],m=(0,o.v9)((function(e){return e.user.token})),g=(0,s.useState)(null),v=(0,i.Z)(g,2),x=v[0],k=v[1];(0,s.useEffect)((function(){k(m)}),[m]),(0,s.useEffect)((function(){if(x){var e=window.location.pathname.split("/"),r=e[e.length-1];a(r);var n=function(){var e=(0,t.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(r,x);case 3:(n=e.sent)&&(console.log(n),_({category:n.category,drinkAlternate:n.drinkAlternate,glass:n.glass,drinkThumb:n.drinkThumb,ingredients:n.ingredients,instructions:n.instructions})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("An error occurred:",e.t0),console.log("Token:",x);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();n()}}),[x]),(0,s.useEffect)((function(){window.scrollTo(0,0)}),[n]);var b=l.category,j=l.drinkAlternate,N=l.glass,w=l.drinkThumb,y=l.ingredients,Z=l.instructions;return(0,P.jsxs)("div",{className:"".concat(f," ").concat(h),children:[(0,P.jsx)(J,{glass:N,drinkAlternate:j,category:b,drinkThumb:w,recipeId:n}),(0,P.jsx)(T,{ingredients:y}),(0,P.jsx)(E,{instructions:Z})]})}}}]);
//# sourceMappingURL=428.4f8165ac.chunk.js.map