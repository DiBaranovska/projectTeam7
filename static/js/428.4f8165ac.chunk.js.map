{"version":3,"file":"static/js/428.4f8165ac.chunk.js","mappings":"6PAEAA,EAAAA,EAAAA,SAAAA,QAAyB,4CAElB,IAAMC,EAAa,mCAAG,WAAOC,EAAUC,GAAjB,gGAEFH,EAAAA,EAAAA,IAAA,kBAAqBE,GAAY,CACtDE,QAAS,CACP,cAAgB,UAAhB,OAA2BD,MAJN,cAEnBE,EAFmB,yBAOlBA,EAASC,MAPS,uCASzBC,QAAQC,MAAM,qBAAd,MATyB,kBAUlB,MAVkB,yDAAH,wDAcbC,EAAc,mCAAG,WAAOP,EAAUC,GAAjB,uEACZ,qDADY,SAGLO,MAFP,qDAEsB,CACpCC,OAAQ,OACRP,QAAS,CACP,OAAU,mBACV,cAAgB,UAAhB,OAA2BD,GAC3B,eAAgB,oBAElBS,KAAMC,KAAKC,UAAU,CAAEC,GAAIb,MAVD,cAafc,GACXT,QAAQU,IAAI,6BAEZV,QAAQC,MAAM,qCAhBY,2CAAH,wDAoBdU,EAAmB,mCAAG,WAAOhB,EAAUC,GAAjB,8EAC3BgB,EAD2B,6DACqCjB,GADrC,SAGVQ,MAAMS,EAAS,CACpCR,OAAQ,SACRP,QAAS,CACP,cAAgB,UAAhB,OAA2BD,MANE,cAUpBa,GACXT,QAAQU,IAAI,iCAEZV,QAAQC,MAAM,0CAbiB,2CAAH,wDAiBnBY,EAAa,mCAAG,WAAOlB,EAAUC,GAAjB,wJAGJO,MAHI,4DAGW,CACpCC,OAAQ,MACRP,QAAS,CACP,cAAgB,UAAhB,OAA2BD,MANJ,YAGrBE,EAHqB,QAUdW,GAVc,iCAWNX,EAASgB,OAXH,cAWnBf,EAXmB,OAYnBgB,EAAkBhB,EAAKiB,QAEvBC,EAAaF,EAAgBG,MAAK,SAAAC,GAAM,OAAIA,EAAOC,MAAQzB,CAAnB,IAdrB,kBAelBsB,GAfkB,cAiBzBjB,QAAQC,MAAM,yCACR,IAAIoB,MAAM,yCAlBS,4CAAH,wDCtD1B,EAAoE,8BAApE,EAAsH,sCCAtH,EAAwI,4CAAxI,EAAyM,mDAAzM,EAAgR,kDAAhR,EAAsV,kDAAtV,EAAwa,8DAAxa,EAA+f,uDAA/f,EAAulB,+DAAvlB,EAAirB,yDAAjrB,EAAuwB,2D,SCyBvwB,EAvB8B,SAAC,GAAqB,IAAnBC,EAAkB,EAAlBA,YAC/B,OACE,iBAAKC,UAAWC,EAAhB,WACE,eAAID,UAAWC,EAAf,0BACA,eAAID,UAAWC,EAAf,SACGF,EAAYG,KAAI,SAACC,EAAYC,GAAb,OACf,gBAAgBJ,UAAWC,EAA3B,WACE,gBAAKD,UAAWC,EAAhB,SACGE,EAAWE,kBACZ,gBAAKC,IAAKH,EAAWE,gBAAiBE,IAAKJ,EAAWK,MAAOR,UAAWC,OAG1E,iBAAKD,UAAWC,EAAhB,WACE,cAAGD,UAAWC,EAAd,SAA6CE,EAAWK,QACvDL,EAAWM,UAAW,cAAGT,UAAWC,EAAd,SAA+CE,EAAWM,eAR5EL,EADM,QAgBxB,ECvBD,EAA8H,uCAA9H,EAA0L,8CAA1L,EAAiQ,kDAAjQ,EAA8U,oDAA9U,EAAga,uDAAha,EAA0e,4C,gECiB1e,EAdoB,SAAC,GAAsB,IAApBM,EAAmB,EAAnBA,aACrB,OACE,iBAAKV,UAAWC,EAAhB,WACE,eAAID,UAAWC,EAAf,iCACA,iBAAKD,UAAWC,EAAhB,WACE,cAAGD,UAAWC,EAAd,SAA6CS,KAC7C,gBAAKV,UAAWC,EAAhB,UACE,gBAAKK,IAAKK,EAAKJ,IAAI,qBAAqBP,UAAWC,WAK5D,ECfD,EAAkH,8BAAlH,EAA+J,qCAA/J,EAAsN,wCAAtN,EAAmR,2CAAnR,EAA8U,sCAA9U,EAAyY,2CAAzY,EAA4c,8CAA5c,EAAugB,mC,6DC6DvgB,EAvDc,SAAC,GAA+D,IAA7DW,EAA4D,EAA5DA,MAAOC,EAAqD,EAArDA,eAAgBC,EAAqC,EAArCA,SAAUC,EAA2B,EAA3BA,WAAY3C,EAAe,EAAfA,SAC5D,GAAoC4C,EAAAA,EAAAA,WAAS,GAA7C,eAAOtB,EAAP,KAAmBuB,EAAnB,KACMC,GAAoBC,EAAAA,EAAAA,KAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKhD,KAAf,KAE3CiD,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAmB,mCAAG,6GAEOjC,EAAclB,EAAU8C,GAF/B,OAElBM,EAFkB,OAGxBP,EAAcO,GAHU,gDAKxB/C,QAAQC,MAAM,mCAAd,MALwB,yDAAH,qDASzB6C,GACD,GAAE,CAACnD,EAAU8C,IAEd,IAAMO,EAAoB,mCAAG,0FAEtB/B,EAFsB,gCAGnBf,EAAeP,EAAU8C,GAHN,OAIzBD,GAAc,GAJW,uCAMnB7B,EAAoBhB,EAAU8C,GANX,OAOzBD,GAAc,GAPW,0DAU3BxC,QAAQC,MAAM,6BAAd,MAV2B,0DAAH,qDAc1B,OACE,iBAAKsB,UAAWC,EAAhB,WACE,4BACE,cAAGD,UAAWC,EAAd,SAAiCW,KACjC,eAAIZ,UAAWC,EAAf,SAAqCa,KACrC,cAAGd,UAAWC,EAAd,SAAuCY,KACvC,mBAAQb,UAAWC,EAAmByB,QAASD,EAA/C,UACE,iBAAMzB,UAAWC,EAAjB,SACGP,EAAa,uBAAyB,iCAK7C,gBAAKM,UAAWC,EAAhB,SACGc,GACC,gBAAKT,IAAKS,EAAYR,IAAI,kBAAkBP,UAAWC,KAEvD,gBAAKK,IAAKK,EAAKJ,IAAI,kBAAkBP,UAAWC,QAKzD,ECcD,MAjEA,WACE,OAAgCe,EAAAA,EAAAA,UAAS,IAAzC,eAAO5C,EAAP,KAAiBuD,EAAjB,KACA,GAAoCX,EAAAA,EAAAA,UAAS,CAC3CF,SAAU,GACVD,eAAgB,GAChBD,MAAO,GACPG,WAAY,GACZhB,YAAa,GACbW,aAAc,KANhB,eAAOkB,EAAP,KAAmBC,EAAnB,KASMX,GAAoBC,EAAAA,EAAAA,KAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKhD,KAAf,IAE3C,GAAwC2C,EAAAA,EAAAA,UAAS,MAAjD,eAAOc,EAAP,KAAqBC,EAArB,MAEFT,EAAAA,EAAAA,YAAU,WACRS,EAAgBb,EACjB,GAAE,CAACA,KAEJI,EAAAA,EAAAA,YAAU,WACR,GAAIQ,EAAc,CAChB,IAAME,EAAYC,OAAOC,SAASC,SAASC,MAAM,KAC3CC,EAAoBL,EAAUA,EAAUM,OAAS,GACvDX,EAAYU,GAEZ,IAAME,EAAS,mCAAG,6GAEKpE,EAAckE,EAAmBP,GAFtC,QAERtD,EAFQ,UAIZC,QAAQU,IAAIX,GACZqD,EAAc,CACZf,SAAUtC,EAAKsC,SACfD,eAAgBrC,EAAKqC,eACrBD,MAAOpC,EAAKoC,MACZG,WAAYvC,EAAKuC,WACjBhB,YAAavB,EAAKuB,YAClBW,aAAclC,EAAKkC,gBAXT,gDAedjC,QAAQC,MAAM,qBAAd,MACAD,QAAQU,IAAI,SAAU2C,GAhBR,yDAAH,qDAmBfS,GACC,CACF,GAAE,CAACT,KAEJR,EAAAA,EAAAA,YAAU,WACRW,OAAOO,SAAS,EAAG,EACpB,GAAE,CAACpE,IAEJ,IAAQ0C,EAA2Ec,EAA3Ed,SAAUD,EAAiEe,EAAjEf,eAAgBD,EAAiDgB,EAAjDhB,MAAOG,EAA0Ca,EAA1Cb,WAAYhB,EAA8B6B,EAA9B7B,YAAaW,EAAiBkB,EAAjBlB,aAElE,OACE,iBAAKV,UAAS,UAAKC,EAAL,YAAsBA,GAApC,WACE,SAAC,EAAD,CAAOW,MAAOA,EAAOC,eAAgBA,EAAgBC,SAAUA,EAAUC,WAAYA,EAAY3C,SAAUA,KAE3G,SAAC,EAAD,CAAuB2B,YAAaA,KAEpC,SAAC,EAAD,CAAaW,aAAcA,MAGhC,C","sources":["api/resipesApi.jsx","webpack://react-homework-template/./src/pages/RecipePage/RecipePage.module.scss?0ba2","webpack://react-homework-template/./src/components/recipeInngredientsList/recipeInngredientsList.module.scss?2cca","components/recipeInngredientsList/recipeInngredientsList.jsx","webpack://react-homework-template/./src/components/recipePreparation/recipePreparation.module.scss?ce8f","components/recipePreparation/recipePreparation.jsx","webpack://react-homework-template/./src/components/recipePageHero/recipePageHero.module.scss?2c1c","components/recipePageHero/recipePageHero.jsx","pages/RecipePage/RecipePage.jsx"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://projectteam7-backend.onrender.com';\n\nexport const getRecipeData = async (recipeId, token) => {\n  try {\n    const response = await axios.get(`recipes/${recipeId}`, {\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    return response.data;\n  } catch (error) {\n    console.error('An error occurred:', error);\n    return null;\n  }\n};\n\nexport const addToFavorites = async (recipeId, token) => {\n  const API_URL = 'https://projectteam7-backend.onrender.com/favorite';\n\n  const response = await fetch(API_URL, {\n    method: 'POST',\n    headers: {\n      'accept': 'application/json',\n      'Authorization': `Bearer ${token}`,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ id: recipeId })\n  });\n\n  if (response.ok) {\n    console.log('Recipe added to favorites');\n  } else {\n    console.error('Failed to add recipe to favorites');\n  }\n};\n\nexport const removeFromFavorites = async (recipeId, token) => {\n  const API_URL = `https://projectteam7-backend.onrender.com/favorite/${recipeId}`;\n\n  const response = await fetch(API_URL, {\n    method: 'DELETE',\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  });\n\n  if (response.ok) {\n    console.log('Recipe removed from favorites');\n  } else {\n    console.error('Failed to remove recipe from favorites');\n  }\n};\n\nexport const checkFavorite = async (recipeId, token) => {\n  const API_URL = `https://projectteam7-backend.onrender.com/favorite?page=1`;\n\n  const response = await fetch(API_URL, {\n    method: 'GET',\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  });\n\n  if (response.ok) {\n    const data = await response.json();\n    const favoriteRecipes = data.recipes;\n\n    const isFavorite = favoriteRecipes.some(recipe => recipe._id === recipeId);\n    return isFavorite;\n  } else {\n    console.error('Failed to check if recipe is favorite');\n    throw new Error('Failed to check if recipe is favorite');\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"noScroll\":\"RecipePage_noScroll__atSpl\",\"conteiner\":\"RecipePage_conteiner__Vl14l\",\"recipe__conteiner\":\"RecipePage_recipe__conteiner__hYPxr\"};","// extracted by mini-css-extract-plugin\nexport default {\"noScroll\":\"recipeInngredientsList_noScroll__cRFyz\",\"conteiner\":\"recipeInngredientsList_conteiner__Y6uKb\",\"ingredients\":\"recipeInngredientsList_ingredients__qqVfR\",\"ingredients__title\":\"recipeInngredientsList_ingredients__title__TKn3w\",\"ingredients__list\":\"recipeInngredientsList_ingredients__list__n0ct7\",\"ingredients__card\":\"recipeInngredientsList_ingredients__card__I1pSf\",\"ingredients__card__background\":\"recipeInngredientsList_ingredients__card__background__JiQJc\",\"ingredients__card__img\":\"recipeInngredientsList_ingredients__card__img__tLTMZ\",\"ingredients__card__description\":\"recipeInngredientsList_ingredients__card__description__5lH5Y\",\"ingredients__card__title\":\"recipeInngredientsList_ingredients__card__title__3uV7Z\",\"ingredients__card__measure\":\"recipeInngredientsList_ingredients__card__measure__Q0UN2\"};","import React from 'react';\nimport css from './recipeInngredientsList.module.scss'\n\nconst RecipeIngredientsList = ({ ingredients }) => {\n  return (\n    <div className={css.ingredients}>\n      <h2 className={css.ingredients__title}>Ingredients</h2>\n      <ul className={css.ingredients__list}>\n        {ingredients.map((ingredient, index) => (\n          <li key={index} className={css.ingredients__card}>\n            <div className={css.ingredients__card__background}>\n              {ingredient.ingredientThumb && (\n              <img src={ingredient.ingredientThumb} alt={ingredient.title} className={css.ingredients__card__img}/>\n            )}\n            </div>\n            <div className={css.ingredients__card__description }>\n              <p className={css.ingredients__card__title}>{ingredient.title}</p>\n              {ingredient.measure && <p className={css.ingredients__card__measure}>{ingredient.measure}</p>}   \n            </div>            \n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default RecipeIngredientsList;\n","// extracted by mini-css-extract-plugin\nexport default {\"noScroll\":\"recipePreparation_noScroll__Q+cym\",\"conteiner\":\"recipePreparation_conteiner__zALAa\",\"preparation\":\"recipePreparation_preparation__ejNBK\",\"preparation__title\":\"recipePreparation_preparation__title__k7PDp\",\"preparation__container\":\"recipePreparation_preparation__container__vbwqW\",\"preparation__description\":\"recipePreparation_preparation__description__HsEFR\",\"preparation__imageContainer\":\"recipePreparation_preparation__imageContainer__pW-bi\",\"preparation__img\":\"recipePreparation_preparation__img__Yu-Lq\"};","import React from 'react';\nimport css from './recipePreparation.module.scss';\nimport img from \"../../img/recipePreparation.jpg\";\n\nconst Preparation = ({ instructions }) => {\n  return (\n    <div className={css.preparation}>\n      <h2 className={css.preparation__title}>Recipe Preparation</h2>\n      <div className={css.preparation__container}>\n        <p className={css.preparation__description}>{instructions}</p>\n        <div className={css.preparation__imageContainer}>\n          <img src={img} alt=\"Recipe Preparation\" className={css.preparation__img}/>\n        </div>        \n      </div>\n      </div>\n  );\n};\n\nexport default Preparation;","// extracted by mini-css-extract-plugin\nexport default {\"noScroll\":\"recipePageHero_noScroll__CYynw\",\"conteiner\":\"recipePageHero_conteiner__mVahJ\",\"field\":\"recipePageHero_field__GVC5K\",\"field__glass\":\"recipePageHero_field__glass__AMbFk\",\"field__category\":\"recipePageHero_field__category__QHRX2\",\"field__description\":\"recipePageHero_field__description__+0Wbp\",\"field__button\":\"recipePageHero_field__button__Ftv3-\",\"field__button_text\":\"recipePageHero_field__button_text__pwBve\",\"field__imageContainer\":\"recipePageHero_field__imageContainer__FN9Yw\",\"field__img\":\"recipePageHero_field__img__RpPxq\"};","import React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport css from './recipePageHero.module.scss';\nimport { addToFavorites, removeFromFavorites, checkFavorite } from '../../api/resipesApi.jsx';\nimport img from '../../img/recipeCocteile.jpg'\n\n\nconst Field = ({ glass, drinkAlternate, category, drinkThumb, recipeId }) => {\n  const [isFavorite, setIsFavorite] = useState(false);\n  const yourReceivedToken = useSelector(state => state.user.token);\n\n  useEffect(() => {\n    const fetchFavoriteStatus = async () => {\n      try {\n        const isRecipeFavorite = await checkFavorite(recipeId, yourReceivedToken);\n        setIsFavorite(isRecipeFavorite);\n      } catch (error) {\n        console.error('Failed to fetch favorite status:', error);\n      }\n    };\n\n    fetchFavoriteStatus();\n  }, [recipeId, yourReceivedToken]);\n\n  const handleFavoriteToggle = async () => {\n  try {\n    if (!isFavorite) {\n      await addToFavorites(recipeId, yourReceivedToken);\n      setIsFavorite(true);\n    } else {\n      await removeFromFavorites(recipeId, yourReceivedToken);\n      setIsFavorite(false);\n    }\n  } catch (error) {\n    console.error('Failed to toggle favorite:', error);\n  }\n};\n\n  return (\n    <div className={css.field}>\n      <div>\n        <p className={css.field__glass}>{glass}</p>\n        <h1 className={css.field__category}>{category}</h1>\n        <p className={css.field__description}>{drinkAlternate}</p>\n        <button className={css.field__button} onClick={handleFavoriteToggle}>\n          <span className={css.field__button_text}>\n            {isFavorite ? 'Remove from favorite' : 'Add to favorite recipe'}\n          </span>\n        </button>\n\n      </div>\n      <div className={css.field__imageContainer}>\n        {drinkThumb ? (\n          <img src={drinkThumb} alt=\"Drink Thumbnail\" className={css.field__img} />\n        ) : (\n          <img src={img} alt=\"Drink Thumbnail\" className={css.field__img} />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Field;\n","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { getRecipeData } from '../../api/resipesApi.jsx';\nimport css from './RecipePage.module.scss';\n\nimport RecipeIngredientsList from '../../components/recipeInngredientsList/recipeInngredientsList.jsx';\nimport Preparation from '../../components/recipePreparation/recipePreparation.jsx';\nimport Field from '../../components/recipePageHero/recipePageHero.jsx';\n\nfunction RecipePage () {\n  const [recipeId, setRecipeId] = useState(\"\");\n  const [recipeData, setRecipeData] = useState({\n    category: \"\",\n    drinkAlternate: \"\",\n    glass: \"\",\n    drinkThumb: \"\",\n    ingredients: [],\n    instructions: \"\"\n  });\n\n  const yourReceivedToken = useSelector(state => state.user.token);\n\n  const [currentToken, setCurrentToken] = useState(null);\n\nuseEffect(() => {\n  setCurrentToken(yourReceivedToken);\n}, [yourReceivedToken]);\n\nuseEffect(() => {\n  if (currentToken) {\n    const pathParts = window.location.pathname.split('/');\n    const extractedRecipeId = pathParts[pathParts.length - 1];\n    setRecipeId(extractedRecipeId);\n\n    const fetchData = async () => {\n      try {\n        const data = await getRecipeData(extractedRecipeId, currentToken);\n        if (data) {\n          console.log(data);\n          setRecipeData({\n            category: data.category,\n            drinkAlternate: data.drinkAlternate,\n            glass: data.glass,\n            drinkThumb: data.drinkThumb,\n            ingredients: data.ingredients,\n            instructions: data.instructions\n          });\n        }\n      } catch (error) {\n        console.error('An error occurred:', error);\n        console.log('Token:', currentToken);\n      }\n    };\n    fetchData();\n    }\n  }, [currentToken]);\n  \n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [recipeId]);\n\n  const { category, drinkAlternate, glass, drinkThumb, ingredients, instructions } = recipeData;\n\n  return (\n    <div className={`${css.conteiner} ${css.recipe__conteiner}`}>\n      <Field glass={glass} drinkAlternate={drinkAlternate} category={category} drinkThumb={drinkThumb} recipeId={recipeId} />\n\n      <RecipeIngredientsList ingredients={ingredients} />\n\n      <Preparation instructions={instructions} />\n    </div>\n  );\n};\n\nexport default RecipePage;\n"],"names":["axios","getRecipeData","recipeId","token","headers","response","data","console","error","addToFavorites","fetch","method","body","JSON","stringify","id","ok","log","removeFromFavorites","API_URL","checkFavorite","json","favoriteRecipes","recipes","isFavorite","some","recipe","_id","Error","ingredients","className","css","map","ingredient","index","ingredientThumb","src","alt","title","measure","instructions","img","glass","drinkAlternate","category","drinkThumb","useState","setIsFavorite","yourReceivedToken","useSelector","state","user","useEffect","fetchFavoriteStatus","isRecipeFavorite","handleFavoriteToggle","onClick","setRecipeId","recipeData","setRecipeData","currentToken","setCurrentToken","pathParts","window","location","pathname","split","extractedRecipeId","length","fetchData","scrollTo"],"sourceRoot":""}