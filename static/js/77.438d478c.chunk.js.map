{"version":3,"file":"static/js/77.438d478c.chunk.js","mappings":"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","sources":["api/searchApi.js","components/addRecipeForm/addRecipeForm.module.scss","components/addRecipeForm/ingridientItem.jsx","components/addRecipeForm/addRecipeForm.jsx","pages/AddRecipePage/AddRecipePage.jsx"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://projectteam7-backend.onrender.com';\n\nexport const fetchGlassesList = async token => {\n  try {\n    const response = await axios.get(`recipes/glass`, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching glasses:', error);\n    throw error;\n  }\n};\n\nexport const fetchIngredientsList = async token => {\n  try {\n    const response = await axios.get(`recipes/ingredients`, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching ingredients:', error);\n    throw error;\n  }\n};\n\nexport const fetchCategoriesList = async token => {\n  try {\n    const response = await axios.get(`recipes/category`, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching categories:', error);\n    throw error;\n  }\n};\n\nexport const searchCocktails = async (token, params) => {\n  try {\n    const response = await axios.get(`/search`, {\n      params: params,\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching data:', error);\n    throw error;\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"noScroll\":\"addRecipeForm_noScroll__eO3AL\",\"conteiner\":\"addRecipeForm_conteiner__6kfsw\"};","// import PropTypes from \"prop-types\";\n// import { useState } from 'react';\nimport css from './addRecipeForm.module.scss';\n\nconst IngredientItem = ({item, ingredientsList, onChange, handleDeleteIngredient} ) => {\n  const measureList = [\n    '1/2 oz',\n    '1/4 oz',\n    '3/4 oz',\n    '1 oz'\n  ]\n  \n  const handleChange = (event) => {\n    const { name, value } = event.currentTarget;\n    if (name === 'title') { \n      onChange(\n        {...item,\n      title:value})}\n    else if (name === 'measure') {  onChange(\n      {...item,\n        measure:value})};\n  }\n const handleDelete = () =>{\n  handleDeleteIngredient(item.id)}\n\n  return (\n    < li className={css.contact__item} >\n      <select\n        className=\"title\"\n        name=\"title\"\n        onChange={handleChange}\n      >\n        {ingredientsList.map(ingredient => (\n          <option key={ingredient} value={ingredient}>\n            {ingredient}\n          </option>\n        ))}\n      </select>  \n      <select\n        className=\"measureField\"\n        name=\"measure\"\n        onChange={handleChange}\n      >\n        {measureList.map(measure => (\n          <option key={measure} value={measure}>\n            {measure}\n          </option>\n        ))}\n      </select>  \n      <button\n        type=\"button\"\n        className={css.contact__deleteBtn}\n        onClick={handleDelete}>\n        Delete\n      </button>\n    </li >)\n}\n\n\nexport default  IngredientItem \n\n\n","import { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport { nanoid } from \"@reduxjs/toolkit\";\nimport css from './addRecipeForm.module.scss';\nimport { useDispatch } from \"react-redux\";\nimport { addMyRecipes} from '../../api/ownRecipeApi'\nimport { useSelector } from \"react-redux\";\nimport IngridientItem from './ingridientItem';\nimport { toast } from 'react-hot-toast';\nimport { logout } from 'redux/user/thunk';\nimport plusIcon from '../../assets/icons/addBtn.png';\nimport { selectToken } from \"redux/user/user-selectors\";\nimport {\n  fetchIngredientsList,\n  fetchCategoriesList,\n  fetchGlassesList,\n} from '../../api/searchApi';\n\nimport {\n  setIngredientsList,\n  setCategoriesList,\n  setGlassesList,\n} from '../../redux/search/cocktailSlice.js';\n\nconst AddRecipeForm = () => {\n  const dispatch = useDispatch();\n  const token = useSelector(selectToken);\n  const navigate = useNavigate();\n  const ingredientsList = useSelector(state => state.cocktail.ingredientsList);\n  const categoriesList = useSelector(state => state.cocktail.categoriesList);\n  const glassesList = useSelector(state => state.cocktail.glassesList);\n  const measureList = [\n    '1/2 oz',\n    '1/4 oz',\n    '3/4 oz',\n    '1 oz'\n  ]\n  useEffect(() => {\n    console.log('useEffect');\n    if (token) {\n      fetchIngredientsList(token)\n        .then(ingredients => {\n          ingredients.sort();\n          dispatch(setIngredientsList(ingredients));\n        })\n        .catch(error => console.error('Error fetching ingredients:', error));\n\n      fetchCategoriesList(token)\n        .then(categories => {\n          categories.sort();\n          dispatch(setCategoriesList(categories));\n        })\n        .catch(error => console.error('Error fetching categories:', error));\n\n        fetchGlassesList(token)\n        .then(glasses => {\n          glasses.sort();\n          dispatch(setGlassesList(glasses));\n        })\n        .catch(error => console.error('Error fetching glasses:', error));\n    }\n}, [dispatch, token]);\n\nlet initialIngridients = [\n  { id:1,\n    title: ingredientsList[0],\n    measure: measureList[0]\n },\n  {id:2,\n    title: ingredientsList[0],\n    measure: measureList[0]\n  },\n  {  id:3,\n    title: ingredientsList[0],\n    measure: measureList[0]\n}\n]\n  const [drink, setDrink] = useState('');\n  const [drinkAlternate, setDrinkAlternate] = useState('');\n  const [category, setCategory] = useState('');\n  const [glass, setGlass] = useState('');\n  const [instructions, setInstructions] = useState('');\n  const [drinkThumb, setDrinkThumb] = useState('');\n  const [ingredients, setIngredients] = useState([]);\n  const [count, setCount] = useState(3)\n\n  const formRef = useRef();\n  const fileRef = useRef(); \n\n  const setInitialvalue = () => {\n    if (!ingredients.length && initialIngridients[0].title)setIngredients(initialIngridients)\n     }\n\n  setInitialvalue();\n\n  const handleChange = (event) => {\n    const { name, value, files, type } = event.currentTarget;\n\n    if (type === 'file' && !files?.[0]) {\n      return;\n    }\n\n    if (Boolean(files?.[0])) {\n      const isValidFile =\n        files[0].name.endsWith('.jpg') ||\n        files[0].name.endsWith('.png') ||\n        files[0].name.endsWith('.jpeg');\n\n      if (!isValidFile)\n        return alert('Only jpg/jpeg and png files are allowed!');\n    }\n\n    if (name === 'drink') { setDrink(value) }\n    else if (name === 'drinkAlternate') { setDrinkAlternate(value) }\n    else if (name === 'category') { setCategory(value) }\n    else if (name === 'glass') { setGlass(value) }\n    else if (name === 'instructions') { setInstructions(value) }\n    else if (type === 'file') { setDrinkThumb(files?.[0]) }\n    else if (name === 'ingredients') { setIngredients(value) }\n  }\n\n  const handleAddRecipe = (event) => {\n    event.preventDefault();\n    const data = {\n      drink,\n      drinkAlternate,\n      category: category? category : categoriesList[0] ,\n      glass: glass? glass : glassesList[0],\n      instructions,\n      ingredients: ingredients.map(({title, measure})=>{return{title, measure}})\n    }\n     \n   const formdata = new FormData();\nformdata.append(\"data\", JSON.stringify(data));\nformdata.append(\"drinkThumb\", drinkThumb);\n\n    dispatch(addMyRecipes(formdata)).unwrap().then(({_id}) => {\n      reset();\n      toast.success('Recipe is added.');\n      navigate(`/recipe/${_id}`, { replace: true });\n    }).catch((error) => {\n      if (error.message.includes('401')) {\n        dispatch(logout());\n        toast.error('Your session is over. Log In again.')\n      } else {\n        toast.error('Some error happened :(')\n      }\n    });\n  }\n\n  const reset = () => {\n    setDrink('');\n    setDrinkAlternate('');\n    setCategory(categoriesList[0]);\n    setGlass(glassesList[0]);\n    setInstructions('');\n    setDrinkThumb('');\n    setIngredients(initialIngridients)\n    setCount(3)\n  }\n  const handlePicker = () => {\n    fileRef.current.click();\n  };\n\n  const handleChangeIngredient =(item) => {\n    const ingrs = [...ingredients]\n    const index = ingrs.findIndex(\n      ingrs => ingrs.id === item.id);\n    ingrs.splice(index, 1, item);\n    setIngredients(ingrs);\n\n    }\n  \n  const handleDeleteIngredient=(id) => {\nif (count===1){\n  toast.error('At least 1 ingredient should be in the recipe');\n  return\n}\n    const ingrs = [...ingredients]\n    const index = ingrs.findIndex(\n      ingrs => ingrs.id === id);\n    ingrs.splice(index, 1);\n    setIngredients(ingrs);\n    console.log('ingredients', ingredients);\n    setCount(count - 1);\n  }\n\n  const increaseCount = () =>\n  {\n    if (count===10){\n      toast.error('Maximum 10 ingredients can be added to the recipe');\n      return\n    }\n    setCount(count + 1)\n   const newItem =  {\n      title: ingredientsList[0],\n      measure: measureList[0],\n      id:nanoid()\n    };\n    const ingrs = [...ingredients]\n    ingrs.splice(0, 0, newItem);\n    setIngredients(ingrs);\n  }\n\n  const reduceCount = () =>\n  {\n    if (count===1){\n      toast.error('At least 1 ingredient should be in the recipe');\n      return\n    }\n    setCount(count - 1);\n    const ingrs = [...ingredients]\n    ingrs.splice(0, 1);\n    setIngredients(ingrs);\n  }\n\n  return ( \n    <form ref={formRef}\n    className={css.addForm}\n      onSubmit={handleAddRecipe}>\n  <div className={css.recipePhoto}>\n          <img className={css.recipeImg} src={drinkThumb} alt=\"Recipe\" />\n          <img\n            className={css.addPhotoBtn}\n            src={plusIcon}\n            alt=\"Add button\"\n            onClick={handlePicker}\n          />\n\n          <input\n            className={css.file}\n            ref={fileRef}\n            type=\"file\"\n            name=\"photoURL\"\n            accept=\".jpg, .jpeg, .png\"\n            onChange={handleChange}\n            defaultValue={drinkThumb}\n          />\n          <p>Add image</p>\n        </div>\n        <input\n        className=\"drinkfield\"\n        type=\"text\"\n        name=\"drink\"\n        value={drink}\n        onChange={handleChange}\n      />\n              <input\n        className=\"drinkAlternateField\"\n        type=\"text\"\n        name=\"drinkAlternate\"\n        value={drinkAlternate}\n        onChange={handleChange}\n      />\n      <select\n        className=\"categoryField\"\n        name=\"category\"\n        value={category}\n        onChange={handleChange}\n      >\n        {categoriesList.map(category => (\n          <option key={category} value={category}>\n            {category}\n          </option>\n        ))}\n      </select>\n      <select\n        className=\"glassField\"\n        name=\"glass\"\n        value={glass}\n        onChange={handleChange}\n      >\n        {glassesList.map(glass => (\n          <option key={glass} value={glass}>\n            {glass}\n          </option>\n        ))}\n      </select>\n\n      <button\n        type=\"button\"\n        className={css.contact__deleteBtn}\n        onClick={increaseCount}>\n        +\n      </button>\n      <p>{count}</p>\n      <button\n        type=\"button\"\n        className={css.contact__deleteBtn}\n        onClick={reduceCount}>\n        -\n      </button>\n\n\n      {ingredients && ingredients.length !== 0 ?\n        (\n          <ul className={css.contact__list}>\n            {ingredients.map((ingredient) => {\n              return (<IngridientItem\n                key={ingredient.id}\n                item={ingredient}\n                ingredientsList = {ingredientsList}\n                onChange={handleChangeIngredient}\n                handleDeleteIngredient = {handleDeleteIngredient}\n                 />)\n            })}\n          </ul>)\n        : (\n          <p className={css.message}>No contacts</p>\n        )\n      }\n\n       <input\n        className=\"instructionsfield\"\n        type=\"text\"\n        name=\"instructions\"\n        value={instructions}\n        onChange={handleChange}\n      />      \n     \n      <button\n        type=\"submit\"\n        className={css.contact__deleteBtn}>\n        Add recipe\n      </button>\n    </form>\n  )\n}\n\nexport default AddRecipeForm\n\n\n\n","import React from 'react';\n\n\n\n\n// import { useEffect } from \"react\";\n// import { useDispatch, useSelector } from \"react-redux\";\n// import { getContactsThunk } from \"redux/contacts/contactOperations\";\n// import { selectToken } from \"redux/user/user-selectors\";\n// import css from './AddRecipePage.module.scss';\nimport AddRecipeForm from \n'../../components/addRecipeForm/addRecipeForm';\n// import FollowUs from '../../components/followUs/followUs';\n// import PopularRecipe from '../../components/popularRecipe/popularRecipe';\n// import { setToken } from '../api/api';\n// import { toast } from 'react-hot-toast';\n// import { logOut } from \"../redux/auth/authSlice\";\n\nconst AddRecipePage = () => {\n\n  // const dispatch = useDispatch();\n  // const token = useSelector(selectToken);\n\n\n  // useEffect(() => {\n  //   setToken(token);\n  //   dispatch(getContactsThunk()).unwrap().catch((error) => {\n  //     if (error.message.includes('401')) {\n  //       dispatch(logOut());\n  //       toast.error('Your session is over. Log In again.')\n  //     } else {\n  //       toast.error('Some error happened :(')\n  //     }\n  //   });\n  // }, [dispatch, token]);\n\n  return (\n    <div>\n      <h1 className=\"{css.title}\"> Add recipe </h1>\n      <AddRecipeForm />      \n      <h2 className=\"{css.subtitle}\">Follow Us</h2>\n      {/* <FollowUs /> */}\n      <h2 className=\"{css.subtitle}\">Popular recipe</h2>\n      {/* <PopularRecipe /> */}\n\n\n    </div>\n  )\n}\n\nexport default AddRecipePage;"],"names":["axios","fetchGlassesList","token","headers","Authorization","response","data","console","error","fetchIngredientsList","fetchCategoriesList","searchCocktails","params","item","ingredientsList","onChange","handleDeleteIngredient","handleChange","event","currentTarget","name","value","title","measure","className","css","map","ingredient","type","onClick","id","dispatch","useDispatch","useSelector","selectToken","navigate","useNavigate","state","cocktail","categoriesList","glassesList","measureList","useEffect","log","then","ingredients","sort","setIngredientsList","catch","categories","setCategoriesList","glasses","setGlassesList","initialIngridients","useState","drink","setDrink","drinkAlternate","setDrinkAlternate","category","setCategory","glass","setGlass","instructions","setInstructions","drinkThumb","setDrinkThumb","setIngredients","count","setCount","formRef","useRef","fileRef","length","files","Boolean","endsWith","alert","reset","handleChangeIngredient","ingrs","index","findIndex","splice","toast","ref","onSubmit","preventDefault","formdata","FormData","append","JSON","stringify","addMyRecipes","unwrap","_id","replace","message","includes","logout","src","alt","plusIcon","current","click","accept","defaultValue","newItem","nanoid"],"sourceRoot":""}