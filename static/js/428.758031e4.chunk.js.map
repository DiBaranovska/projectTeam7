{"version":3,"file":"static/js/428.758031e4.chunk.js","mappings":"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","sources":["api/resipesApi.jsx","webpack://react-homework-template/./src/pages/RecipePage/RecipePage.module.scss?0ba2","webpack://react-homework-template/./src/components/recipeInngredientsList/recipeInngredientsList.module.scss?2cca","components/recipeInngredientsList/recipeInngredientsList.jsx","webpack://react-homework-template/./src/components/recipePreparation/recipePreparation.module.scss?ce8f","components/recipePreparation/recipePreparation.jsx","webpack://react-homework-template/./src/components/recipePageHero/recipePageHero.module.scss?2c1c","components/recipePageHero/recipePageHero.jsx","pages/RecipePage/RecipePage.jsx"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://projectteam7-backend.onrender.com';\n\nexport const getRecipeData = async (recipeId, token) => {\n  try {\n    const response = await axios.get(`recipes/${recipeId}`, {\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    return response.data;\n  } catch (error) {\n    console.error('An error occurred:', error);\n    return null;\n  }\n};\n\nexport const addToFavorites = async (recipeId, token) => {\n  const API_URL = 'https://projectteam7-backend.onrender.com/favorite';\n\n  const response = await fetch(API_URL, {\n    method: 'POST',\n    headers: {\n      'accept': 'application/json',\n      'Authorization': `Bearer ${token}`,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ id: recipeId })\n  });\n\n  if (response.ok) {\n    console.log('Recipe added to favorites');\n  } else {\n    console.error('Failed to add recipe to favorites');\n  }\n};\n\nexport const removeFromFavorites = async (recipeId, token) => {\n  const API_URL = `https://projectteam7-backend.onrender.com/favorite/${recipeId}`;\n\n  const response = await fetch(API_URL, {\n    method: 'DELETE',\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  });\n\n  if (response.ok) {\n    console.log('Recipe removed from favorites');\n  } else {\n    console.error('Failed to remove recipe from favorites');\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"noScroll\":\"RecipePage_noScroll__atSpl\",\"conteiner\":\"RecipePage_conteiner__Vl14l\",\"recipe__conteiner\":\"RecipePage_recipe__conteiner__hYPxr\"};","// extracted by mini-css-extract-plugin\nexport default {\"noScroll\":\"recipeInngredientsList_noScroll__cRFyz\",\"conteiner\":\"recipeInngredientsList_conteiner__Y6uKb\",\"ingredients\":\"recipeInngredientsList_ingredients__qqVfR\",\"ingredients__title\":\"recipeInngredientsList_ingredients__title__TKn3w\",\"ingredients__list\":\"recipeInngredientsList_ingredients__list__n0ct7\",\"ingredients__card\":\"recipeInngredientsList_ingredients__card__I1pSf\",\"ingredients__card__background\":\"recipeInngredientsList_ingredients__card__background__JiQJc\",\"ingredients__card__img\":\"recipeInngredientsList_ingredients__card__img__tLTMZ\",\"ingredients__card__description\":\"recipeInngredientsList_ingredients__card__description__5lH5Y\",\"ingredients__card__title\":\"recipeInngredientsList_ingredients__card__title__3uV7Z\",\"ingredients__card__measure\":\"recipeInngredientsList_ingredients__card__measure__Q0UN2\"};","import React from 'react';\nimport css from './recipeInngredientsList.module.scss'\n\nconst RecipeIngredientsList = ({ ingredients }) => {\n  return (\n    <div className={css.ingredients}>\n      <h2 className={css.ingredients__title}>Ingredients</h2>\n      <ul className={css.ingredients__list}>\n        {ingredients.map((ingredient, index) => (\n          <li key={index} className={css.ingredients__card}>\n            <div className={css.ingredients__card__background}>\n              {ingredient.ingredientThumb && (\n              <img src={ingredient.ingredientThumb} alt={ingredient.title} className={css.ingredients__card__img}/>\n            )}\n            </div>\n            <div className={css.ingredients__card__description }>\n              <p className={css.ingredients__card__title}>{ingredient.title}</p>\n              {ingredient.measure && <p className={css.ingredients__card__measure}>{ingredient.measure}</p>}   \n            </div>            \n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default RecipeIngredientsList;\n","// extracted by mini-css-extract-plugin\nexport default {\"noScroll\":\"recipePreparation_noScroll__Q+cym\",\"conteiner\":\"recipePreparation_conteiner__zALAa\",\"preparation\":\"recipePreparation_preparation__ejNBK\",\"preparation__title\":\"recipePreparation_preparation__title__k7PDp\",\"preparation__container\":\"recipePreparation_preparation__container__vbwqW\",\"preparation__description\":\"recipePreparation_preparation__description__HsEFR\",\"preparation__imageContainer\":\"recipePreparation_preparation__imageContainer__pW-bi\",\"preparation__img\":\"recipePreparation_preparation__img__Yu-Lq\"};","import React from 'react';\nimport css from './recipePreparation.module.scss';\nimport img from \"../../img/recipePreparation.jpg\";\n\nconst Preparation = ({ instructions }) => {\n  return (\n    <div className={css.preparation}>\n      <h2 className={css.preparation__title}>Recipe Preparation</h2>\n      <div className={css.preparation__container}>\n        <p className={css.preparation__description}>{instructions}</p>\n        <div className={css.preparation__imageContainer}>\n          <img src={img} alt=\"Recipe Preparation\" className={css.preparation__img}/>\n        </div>        \n      </div>\n      </div>\n  );\n};\n\nexport default Preparation;","// extracted by mini-css-extract-plugin\nexport default {\"noScroll\":\"recipePageHero_noScroll__CYynw\",\"conteiner\":\"recipePageHero_conteiner__mVahJ\",\"field\":\"recipePageHero_field__GVC5K\",\"field__glass\":\"recipePageHero_field__glass__AMbFk\",\"field__drink\":\"recipePageHero_field__drink__RSugn\",\"field__description\":\"recipePageHero_field__description__+0Wbp\",\"field__button\":\"recipePageHero_field__button__Ftv3-\",\"field__button_text\":\"recipePageHero_field__button_text__pwBve\",\"field__imageContainer\":\"recipePageHero_field__imageContainer__FN9Yw\",\"field__img\":\"recipePageHero_field__img__RpPxq\"};","import React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport css from './recipePageHero.module.scss';\nimport { addToFavorites, removeFromFavorites } from '../../api/resipesApi.jsx';\nimport img from '../../img/recipeCocteile.jpg'\n\nconst Field = ({ glass, drinkAlternate, drink, drinkThumb, recipeId }) => {\n  const [isFavorite, setIsFavorite] = useState(false);\n  const yourReceivedToken = useSelector((state) => state.user.token);\n\n  useEffect(() => {\n    try {\n      const savedData = localStorage.getItem('favoriteRecipes');\n      const favoriteRecipes = JSON.parse(savedData) || { recipes: [] };\n      const recipesArray = favoriteRecipes.recipes;\n      const desiredRecipeId = recipeId;\n      const isRecipeIdInFavorites = recipesArray.some((recipe) => recipe._id === desiredRecipeId);\n      setIsFavorite(isRecipeIdInFavorites);\n    } catch (error) {\n      console.error('Failed to fetch favorite status:', error);\n    }\n  }, [recipeId, yourReceivedToken]);\n\n  const handleFavoriteToggle = async () => {\n    try {\n      const savedData = localStorage.getItem('favoriteRecipes');\n      const favoriteRecipes = JSON.parse(savedData) || { recipes: [] };\n      const recipesArray = favoriteRecipes.recipes;\n      const desiredRecipeId = recipeId;\n      const isRecipeIdInFavorites = recipesArray.some((recipe) => recipe._id === desiredRecipeId);\n\n      if (!isRecipeIdInFavorites) {\n        await addToFavorites(recipeId, yourReceivedToken);\n        setIsFavorite(true);\n        recipesArray.push({ _id: desiredRecipeId }); // Додавання до локального сховища\n      } else {\n        await removeFromFavorites(recipeId, yourReceivedToken);\n        setIsFavorite(false);\n        // Видалення з локального сховища\n        const index = recipesArray.findIndex((recipe) => recipe._id === desiredRecipeId);\n        if (index !== -1) {\n          recipesArray.splice(index, 1);\n        }\n      }\n\n      // Збереження оновленого масиву в локальному сховищі\n      localStorage.setItem('favoriteRecipes', JSON.stringify(favoriteRecipes));\n    } catch (error) {\n      console.error('Failed to toggle favorite:', error);\n    }\n  };\n\n  return (\n    <div className={css.field}>\n      <div>\n        <p className={css.field__glass}>{glass}</p>\n        <h1 className={css.field__drink}>{drink}</h1>\n        <p className={css.field__description}>{drinkAlternate}</p>\n        <button className={css.field__button} onClick={handleFavoriteToggle}>\n          <span className={css.field__button_text}>\n            {isFavorite ? 'Remove from favorite' : 'Add to favorite recipe'}\n          </span>\n        </button>\n\n      </div>\n      <div className={css.field__imageContainer}>\n        {drinkThumb ? (\n          <img src={drinkThumb} alt=\"Drink Thumbnail\" className={css.field__img} />\n        ) : (\n          <img src={img} alt=\"Drink Thumbnail\" className={css.field__img} />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Field;\n","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { getRecipeData } from '../../api/resipesApi.jsx';\nimport css from './RecipePage.module.scss';\n\nimport RecipeIngredientsList from '../../components/recipeInngredientsList/recipeInngredientsList.jsx';\nimport Preparation from '../../components/recipePreparation/recipePreparation.jsx';\nimport Field from '../../components/recipePageHero/recipePageHero.jsx';\nimport Skeleton from 'components/skeleton/skeleton';\n\nfunction RecipePage () {\n  const [recipeId, setRecipeId] = useState(\"\");\n  const [recipeData, setRecipeData] = useState({\n    drink: \"\",\n    drinkAlternate: \"\",\n    glass: \"\",\n    drinkThumb: \"\",\n    ingredients: [],\n    instructions: \"\"\n  });\n\n  const [isLoading, setIsLoading] = useState(true);\n\n  const yourReceivedToken = useSelector(state => state.user.token);\n\n  const [currentToken, setCurrentToken] = useState(null);\n\n  useEffect(() => {\n    setCurrentToken(yourReceivedToken);\n  }, [yourReceivedToken]);\n\n  useEffect(() => {\n    if (currentToken) {\n      const pathParts = window.location.pathname.split('/');\n      const extractedRecipeId = pathParts[pathParts.length - 1];\n      setRecipeId(extractedRecipeId);\n\n      const fetchData = async () => {\n        try {\n          const data = await getRecipeData(extractedRecipeId, currentToken);\n          if (data) {\n            // console.log(data);\n            setRecipeData({\n              drink: data.drink,\n              drinkAlternate: data.drinkAlternate,\n              glass: data.glass,\n              drinkThumb: data.drinkThumb,\n              ingredients: data.ingredients,\n              instructions: data.instructions\n            });\n            setIsLoading(false);\n          }\n        } catch (error) {\n          console.error('An error occurred:', error);\n          console.log('Token:', currentToken);\n          setIsLoading(false);\n        }\n      };\n      fetchData();\n    }\n  }, [currentToken]);\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [recipeId]);\n\n  const { drink, drinkAlternate, glass, drinkThumb, ingredients, instructions } = recipeData;\n\n  return (\n    <div className={`${css.conteiner} ${css.recipe__conteiner}`}>\n      {isLoading ? (\n        <Skeleton />\n      ) : (\n        <>\n        \n          <Field glass={glass} drinkAlternate={drinkAlternate} drink={drink} drinkThumb={drinkThumb} recipeId={recipeId} />\n\n          <RecipeIngredientsList ingredients={ingredients} />\n\n          <Preparation instructions={instructions} />\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default RecipePage;\n"],"names":["axios","getRecipeData","recipeId","token","headers","response","data","console","error","addToFavorites","fetch","method","body","JSON","stringify","id","ok","log","removeFromFavorites","API_URL","ingredients","className","css","map","ingredient","index","ingredientThumb","src","alt","title","measure","instructions","img","glass","drinkAlternate","drink","drinkThumb","useState","isFavorite","setIsFavorite","yourReceivedToken","useSelector","state","user","useEffect","savedData","localStorage","getItem","recipesArray","parse","recipes","desiredRecipeId","isRecipeIdInFavorites","some","recipe","_id","handleFavoriteToggle","favoriteRecipes","push","findIndex","splice","setItem","onClick","setRecipeId","recipeData","setRecipeData","isLoading","setIsLoading","currentToken","setCurrentToken","pathParts","window","location","pathname","split","extractedRecipeId","length","fetchData","scrollTo"],"sourceRoot":""}